<div class="event-box card">
  <div class="event-box-top">
    <span class="event-name">
      {{#if (eq type "event_invite")}}
        <strong>{{data.eventName}}</strong>
      {{else if (eq type "change_pw_request")}}
        <strong>Password Reset Request</strong>
      {{else if (eq type "general_notif")}}
        <strong>
          {{#if data.isUrgent}}
            {{data.eventTitle}}
          {{else}}
            Notification
          {{/if}}
        </strong>
      {{else if (eq type "event_invite_response")}}
        <strong>{{data.eventName}} Invite Response</strong>
      {{/if}}
    </span>
    {{#if (eq type "event_invite")}}
      {{#if (eq @root.user.role "Team Member")}} 
        {{#if (eq data.daysLeft 0)}}
          <span class="notif-expiry">Invitation expires today</span>
        {{else if (eq data.daysLeft 1)}}
          <span class="notif-expiry">Invitation expires in {{data.daysLeft}} day</span>
        {{else}}
          <span class="notif-expiry">Invitation expires in {{data.daysLeft}} days</span>
        {{/if}}
        </span>
      {{/if}}
    {{/if}}
  </div>

  <div class="card-description-item">
      <span class="client-name">
        {{#if (eq type "event_invite")}}
          {{data.clientName}}
        {{else}}
          {{data.senderName}}  
        {{/if}}
      </span>
    </div>

  <div class="event-box-bottom">
    <div class="card-description-item card-secondary">
      <i class="lni lni-calendar-days"></i>
      <span class="notif-date">{{data.date}}</span>
    </div>
    <div class="card-description-item">
      <i class="lni lni-pen-to-square"></i>
      <span class="notif-description">
        {{#if (eq type "event_invite")}}
          {{data.description}}
        {{else}}
          {{data.message}}
        {{/if}}
      </span>
    </div>
  </div>

  {{#if (eq type "event_invite")}}
    <div class="notif-controls">
      <span class="notif-response">Response: <strong>{{data.response}}</strong></span>
      {{#if (eq @root.user.role "Team Member")}} 
        <div class="form-controls">
          <form class="notif-button" action="/respondInvite/{{data.inviteID}}" method="POST">
            <input type="hidden" name="response" value="unavailable">
            <button class="bg-button button">
                <a class="button-wrapper">
                    <i class="lni lni-thumbs-down-3"></i>
                    <p>Not available</p>
                </a>
            </button>
          </form>
          <form class="notif-button" action="/respondInvite/{{data.inviteID}}" method="POST">
            <input type="hidden" name="response" value="available">
            <button class="fg-button button">
                <a class="button-wrapper">
                    <i class="lni lni-thumbs-up-3"></i>
                    <p>Available</p>
                </a>
            </button>
          </form>
        </div>
      {{/if}}
    </div>
  {{/if}}
  {{#if (eq type "change_pw_request")}}
    <div class="notif-controls">
      <button class="fg-button button">
        <a class="button-wrapper" href="/reset/password/{{data.senderCN}}">
          <i class="lni lni-unlocked-2"></i>
          <p>Reset password</p>
        </a>
      </button>
    </div>
  {{/if}}
</div>